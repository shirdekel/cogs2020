---
title: "Grades"
author: "Author: Matthew J. Cossley"
date: "Last update: `r format(Sys.time(), '%d %B, %Y')`"
output:
  html_document:
    toc: true
    toc_float:
        collapsed: false
        smooth_scroll: true
    toc_depth: 4
    fig_caption: yes
    # code_folding: show
    number_sections: false
    theme: cosmo
fontsize: 14pt
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## How to check your grades

* If the following code returns empty data.tables, then
please double check that you have entered your student ID
correctly **as an integer**.

* If you still get empty data.tables then it may be because
there was a fatal error in your homework submission that
crashed my grading program. Please email me directly to
inquire.

```{r, eval=F}
library(data.table)
library(ggplot2)

rm(list=ls())

# Enter your student ID below as an integer
sid <- 314159

# HW 1
d1 <- fread('https://crossley.github.io/cogs2020/grades/hw_1_table.csv')
d1[student_id == sid]

# HW 2
d2 <- fread('https://crossley.github.io/cogs2020/grades/hw_2_table.csv')
d2[student_id == sid]

# HW 3
d3 <- fread('https://crossley.github.io/cogs2020/grades/hw_3_table.csv')
d3[student_id == sid]

# HW 4
d4 <- fread('https://crossley.github.io/cogs2020/grades/hw_4_table.csv')
d4[student_id == sid]

# HW 5
d5 <- fread('https://crossley.github.io/cogs2020/grades/hw_5_table.csv')
d5[student_id == sid]

# HW 6
d6 <- fread('https://crossley.github.io/cogs2020/grades/hw_6_table.csv')
d6[student_id == sid]

# Midterm recovery 1
dm1 <- fread('https://crossley.github.io/cogs2020/grades/midterm_recovery_1.csv')
dm1[student_id == sid]

# Midterm recovery 2
dm2 <- fread('https://crossley.github.io/cogs2020/grades/midterm_recovery_2.csv')
dm2[student_id == sid]
```

## Total grades so far

```{r, eval=T}
# If you want to know where you are standing currently, run
# this entire code block and then select your student_id
# from dd
library(data.table)
library(ggplot2)

rm(list=ls())

d1 <- fread('https://crossley.github.io/cogs2020/grades/hw_1_table.csv')
d2 <- fread('https://crossley.github.io/cogs2020/grades/hw_2_table.csv')
d3 <- fread('https://crossley.github.io/cogs2020/grades/hw_3_table.csv')
d4 <- fread('https://crossley.github.io/cogs2020/grades/hw_4_table.csv')
d5 <- fread('https://crossley.github.io/cogs2020/grades/hw_5_table.csv')
d6 <- fread('https://crossley.github.io/cogs2020/grades/hw_6_table.csv')
dm1 <- fread('https://crossley.github.io/cogs2020/grades/midterm_recovery_1.csv')
dm2 <- fread('https://crossley.github.io/cogs2020/grades/midterm_recovery_2.csv')

d1[, assignment := 'hw1']
d2[, assignment := 'hw2']
d3[, assignment := 'hw3']
d4[, assignment := 'hw4']
d5[, assignment := 'hw5']
d6[, assignment := 'hw6']
dm1[, assignment := 'm1']
dm2[, assignment := 'm2']

d <- rbindlist(list(d1, d2, d3, d4, d5, d6, dm1, dm2), use.names=T, fill=T)
dd <- d[, .(score = unique(score)), .(student_id, assignment)]
dd <- dcast(dd, student_id ~ assignment, value.var = 'score')
dd[, total_score := sum(0.1 * 1, # quizzes (assuming you got credit for the 3 given)
                    0.3 * mean(c(hw1, hw2, hw3, hw4, hw5, hw6), na.rm=T), # hw
                    0.3 * mean(c(m1, m2), na.rm=T), # midterm
                    0.3 * 1, na.rm=T) # final (assuming perfect score)
   , .(student_id)]
ggplot(dd, aes(total_score)) +
  geom_histogram(bins=10)
```


## Homework 1 Grades
  
```{r}
library(data.table)
library(ggplot2)

rm(list=ls())

d <- fread('https://crossley.github.io/cogs2020/grades/hw_1_table.csv')

dd <- d[, .(score = unique(score)), .(student_id)]
ggplot(dd, aes(score)) +
  geom_histogram(bins=10)

dd <- d[, .(ans_mean = mean(ans=="correct"),
            ans_err = sd(ans=="correct")/sqrt(.N)), .(ans_labels)]
ggplot(data=dd, aes(x=ans_labels, y=ans_mean)) +
  geom_pointrange(aes(x=ans_labels,
                      ymin=ans_mean-ans_err,
                      ymax=ans_mean+ans_err)) +
  xlab('Problem Number') +
  ylab('Proportion Correct')
```
  
## Homework 2 Grades

```{r}
library(data.table)
library(ggplot2)

rm(list=ls())

d <- fread('https://crossley.github.io/cogs2020/grades/hw_2_table.csv')

dd <- d[, .(score = unique(score)), .(student_id)]
ggplot(dd, aes(score)) +
  geom_histogram(bins=10)

dd <- d[, .(ans_mean = mean(ans=="correct"),
            ans_err = sd(ans=="correct")/sqrt(.N)), .(ans_labels)]
ggplot(data=dd, aes(x=ans_labels, y=ans_mean)) +
  geom_pointrange(aes(x=ans_labels,
                      ymin=ans_mean-ans_err,
                      ymax=ans_mean+ans_err)) +
  xlab('Problem Number') +
  ylab('Proportion Correct')
```


## Homework 3 Grades

```{r}
library(data.table)
library(ggplot2)

rm(list=ls())

d <- fread('https://crossley.github.io/cogs2020/grades/hw_3_table.csv')

dd <- d[, .(score = unique(score)), .(student_id)]
ggplot(dd, aes(score)) +
  geom_histogram(bins=10)

dd <- d[, .(ans_mean = mean(ans=="correct"),
            ans_err = sd(ans=="correct")/sqrt(.N)), .(ans_labels)]
ggplot(data=dd, aes(x=ans_labels, y=ans_mean)) +
  geom_pointrange(aes(x=ans_labels,
                      ymin=ans_mean-ans_err,
                      ymax=ans_mean+ans_err)) +
  xlab('Problem Number') +
  ylab('Proportion Correct')
```

## Homework 4 Grades

```{r, fig.width=10}
library(data.table)
library(ggplot2)

rm(list=ls())

d <- fread('https://crossley.github.io/cogs2020/grades/hw_4_table.csv')

dd <- d[, .(score = unique(score)), .(student_id)]
ggplot(dd, aes(score)) +
  geom_histogram(bins=10)

dd <- d[, .(ans_mean = mean(ans=="correct"),
            ans_err = sd(ans=="correct")/sqrt(.N)), .(ans_labels)]
ggplot(data=dd, aes(x=ans_labels, y=ans_mean)) +
  geom_pointrange(aes(x=ans_labels,
                      ymin=ans_mean-ans_err,
                      ymax=ans_mean+ans_err)) +
  xlab('Problem Number') +
  ylab('Proportion Correct')+
  theme(axis.text.x=element_text(angle=45, hjust=1))
```

## Midterm 1 Grades

```{r}
library(data.table)
library(ggplot2)

rm(list=ls())

d <- fread('https://crossley.github.io/cogs2020/grades/midterm_recovery_1.csv')

dd <- d[, .(score = unique(score)), .(student_id)]
ggplot(dd, aes(score)) +
  geom_histogram(bins=10)
```

## Midterm 2 Grades

```{r}
library(data.table)
library(ggplot2)

rm(list=ls())

d <- fread('https://crossley.github.io/cogs2020/grades/midterm_recovery_2.csv')

dd <- d[, .(score = unique(score)), .(student_id)]
ggplot(dd, aes(score)) +
  geom_histogram(bins=10)
```

## Homework 5 Grades

```{r, fig.width=10}
library(data.table)
library(ggplot2)

rm(list=ls())

d <- fread('https://crossley.github.io/cogs2020/grades/hw_5_table.csv')

dd <- d[, .(score = unique(score)), .(student_id)]
ggplot(dd, aes(score)) +
  geom_histogram(bins=10)

dd <- d[, .(ans_mean = mean(ans=="correct"),
            ans_err = sd(ans=="correct")/sqrt(.N)), .(ans_labels)]
ggplot(data=dd, aes(x=ans_labels, y=ans_mean)) +
  geom_pointrange(aes(x=ans_labels,
                      ymin=ans_mean-ans_err,
                      ymax=ans_mean+ans_err)) +
  xlab('Problem Number') +
  ylab('Proportion Correct')+
  theme(axis.text.x=element_text(angle=45, hjust=1))
```

## Homework 6 Grades

```{r, fig.width=10}
library(data.table)
library(ggplot2)

rm(list=ls())

d <- fread('https://crossley.github.io/cogs2020/grades/hw_6_table.csv')

dd <- d[, .(score = unique(score)), .(student_id)]
ggplot(dd, aes(score)) +
  geom_histogram(bins=10)

dd <- d[, .(ans_mean = mean(ans=="correct"),
            ans_err = sd(ans=="correct")/sqrt(.N)), .(ans_labels)]
ggplot(data=dd, aes(x=ans_labels, y=ans_mean)) +
  geom_pointrange(aes(x=ans_labels,
                      ymin=ans_mean-ans_err,
                      ymax=ans_mean+ans_err)) +
  xlab('Problem Number') +
  ylab('Proportion Correct')+
  theme(axis.text.x=element_text(angle=45, hjust=1))
```